

# Документация `compute_metrics_logreg.py`

`compute_metrics_logreg.py` — это скрипт для вычисления метрик бинарной классификации с использованием логистической регрессии. Скрипт поддерживает обработку текстовых и изображенных данных, а также их комбинаций и преобразованных через PCA версий. Он предназначен для анализа эффективности различных моделей и подходов в задачах бинарной классификации.


## Аргументы командной строки

Скрипт поддерживает следующие аргументы командной строки:

- `--emb_path` (обязательный): Пути к файлам с эмбеддингами (`.npz`), разделенные пробелом.
- `--tasks` (обязательный): Список имен задач, разделенных пробелом.
- `--df_paths` (обязательный): Список путей к CSV-файлам с данными для каждой задачи, разделенных пробелом. Для каждой задачи пути к файлам должны быть разделены запятыми.
- `--save_path` (обязательный): Путь для сохранения результирующего CSV файла с метриками.
- `--model_names` (обязательный): Список имен моделей, соответствующих файлам эмбеддингов, разделенных пробелом.

## Пример использования

```bash
python compute_metrics_logreg.py --emb_path "path/to/embeddings1.npz path/to/embeddings2.npz" --tasks "task1 task2" --df_paths "path/to/task1_data.csv,path/to/task2_data.csv" --save_path "path/to/results.csv" --model_names "model1 model2"
```

В этом примере скрипт будет обрабатывать эмбеддинги из двух файлов `.npz`, соответствующих двум разным моделям (`model1` и `model2`) и двум задачам (`task1` и `task2`). Для каждой задачи указаны пути к двум CSV-файлам с данными (`path/to/task1_data.csv` для `task1` и `path/to/task2_data.csv` для `task2`). Результаты будут сохранены в файл `path/to/results.csv`.

## Описание работы скрипта

1. **Загрузка данных:** Скрипт загружает эмбеддинги для текста и изображений из указанных `.npz` файлов, а также данные целевой переменной из CSV-файлов.
2. **Обработка данных:** Для каждой задачи данные обрабатываются отдельно, включая возможность применения PCA для сокращения размерности данных.
3. **Вычисление метрик:** С использованием логистической регрессии скрипт вычисляет метрики бинарной классификации (F1-мера, точность, полнота) для каждой комбинации данных (текст, изображение, объединенные, PCA-преобразованные).
4. **Сохранение результатов:** Результаты вычислений сохраняются в указанный CSV-файл.

